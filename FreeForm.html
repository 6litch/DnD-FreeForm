

<div class="main">
	<!-- Logo Section -->
    <div class="logo section"> 
		<span> Sheet Version:3.4.0 </span>
	</div>
	
	<!-- Main Details -->
	<div class="name">
		<div class="section-small flex-center">
			<label>Name:</label>
			<input type="text" name="attr_character_name"/>
		</div>
	</div>
	<div class="lvl">
		<div class="section-small flex-center">
			<label>Level:</label>
			<input type="number" name="attr_lvl" value="0"/>
		</div>
	</div>
	<div class="hp">
		<div class="section-small flex-center">
			<label>HP:</label>
			<input type="number" name="attr_hp" style="width:50px" value="0"/>
			<label style="width:10px;padding-left: 0px;padding-right: 0px">/</label>
			<input type="number" name="attr_hp_max" style="width:50px;padding-left:-5px" value="0"/>
			<label style="width:60px; padding-left: 0px">:Max HP</label>
		</div>
	</div>
	<div class="sta">
		<div class="section-small flex-center">
			<label>STA:</label>
			<input type="number" name="attr_sta" style="width:50px" value="0"/>
			<label style="width:10px;padding-left:0px;padding-right:0px">/</label>
			<input type="number" name="attr_sta_max" style="width:50px;padding-left:-5px" value="0"/>
			<label style="width:80px; padding-left: 0px">:Max STA</label>
		</div>
	</div>
	<div class="ac">
		<div class="section-small flex-center">
			<label style="width: 30px; padding-right: 0px">AC :</label>
			<input type="number" name="attr_ac" style="width:30px; padding-left: 0px" value="0"/> 
			<label style="padding-left: 0px; margin:0px 0px 0px 0px; padding-right: 0px">PDT :</label>
			<input type="number" name="attr_pdt" style="width:30px; padding-left: 0px" value="0"/>
			<label style="padding-left: 0px; margin:0px 0px 0px 0px; padding-right: 0px">MDT :</label>
			<input type="number" name="attr_mdt" style="width:30px; padding-left: 0px" value="0"/>
		</div>
	</div>
	<div class="quirk">
		<div class="section-small flex-center">
			<label>Quirk:</label>
			<input type="text" name="attr_quirk"/>
		</div>
	</div>
	<div class="bbackground">
		<div class="section-small flex-center">
		</div>
	</div>
	<div class="buttons">
		<div class="section-small flex-center">
			<input type='hidden' class='sheet-tabstoggle' name='attr_sheetTab'  value='character'  />
			<button class="charButton" type="action" name="act_character" >Character</button>
			<button class="skillsButton" type="action" name="act_skills" >Skills</button>
			<button class="abiButton" type="action" name="act_abi" >Abilities</button>
			<button class="invButton" type="action" name="act_inventory" >Inventory</button>
			<button class="noteButton" type="action" name="act_note" >Notes</button>
			<button class="settingsButton" type="action" name="act_settings">â˜¼</button>
		</div>
	</div>
	<input type="hidden" class="sheet-tabstoggle" name="attr_sheetTab"  value="character"  />
	
	<!---------------->
	<!-- Main Stats -->
	<!---------------->
	
	<div class="character">
		<div class="stats">
			
			<div class="strength">
				<div class="section-small flex-center">
					<label><button name="roll_str" type="roll" value="&{template:default} {{name=Strength}} {{Result=[[d20+(@{str_bonus})+(@{strengthForceMod})]]}}">Strength</button></label>
					<input name="attr_str" type="number" value="00">
					<span name="attr_str_bonus">00</span>
				</div>
			</div>
			
			<div class="consitution">
				<div class="section-small flex-center">
					<label><button name="roll_con" type="roll" value="&{template:default} {{name=Consitution}} {{Result=[[d20+(@{con_bonus})+(@{consitutionForceMod})]]}}">Consitution</button></label>
					<input name="attr_con" type="number" value="00">
					<span name="attr_con_bonus">00</span>
				</div>
			</div>
			
			<div class="perception">
				<div class="section-small flex-center">
					<label><button name="roll_per" type="roll" value="&{template:default} {{name=Perception}} {{Result=[[d20+(@{per_bonus})+(@{perceptionForceMod})]]}}">Perception</button></label>
					<input name="attr_per" type="number" value="00">
					<span name="attr_per_bonus">00</span>
				</div>
			</div>
			
			<div class="movement">
				<div class="section-small flex-center">
					<label><button name="roll_move" type="roll" value="&{template:default} {{name=Movement}} {{Result=[[d20+(@{move_bonus})+(@{movementForceMod})]]}}">Movement</button></label>
					<input name="attr_move" type="number" value="00">
					<span name="attr_move_bonus">00</span>
				</div>
			</div>
			
			<div class="finesse">
				<div class="section-small flex-center">
					<label><button name="roll_fin" type="roll" value="&{template:default} {{name=Finesse}} {{Result=[[d20+(@{fin_bonus})+(@{finForceMod})]]}}">Finesse</button></label>
					<input name="attr_fin" type="number" value="00">
					<span name="attr_fin_bonus">00</span>
				</div>
			</div>
			
			<div class="control">
				<div class="section-small flex-center">
					<label><button name="roll_cont" type="roll" value="&{template:default} {{name=Control}} {{Result=[[d20+(@{cont_bonus})+(@{contForceMod})]]}}">Control</button></label>
					<input name="attr_cont" type="number" value="00">
					<span name="attr_cont_bonus">00</span>
				</div>
			</div>
			
			<div class="charm">
				<div class="section-small flex-center">
					<label><button name="roll_cha" type="roll" value="&{template:default} {{name=Charm}} {{Result=[[d20+(@{cha_bonus})+(@{chaForceMod})]]}}">Charm</button></label>
					<input name="attr_cha" type="number" value="00">
					<span name="attr_cha_bonus">00</span>
				</div>
			</div>
			
			<div class="terror">
				<div class="section-small flex-center">
					<label><button name="roll_ter" type="roll" value="&{template:default} {{name=Terror}} {{Result=[[d20+(@{ter_bonus})+(@{terForceMod})]]}}">Terror</button></label>
					<input name="attr_ter" type="number" value="00">
					<span name="attr_ter_bonus">00</span>
				</div>
			</div>
			
			<div class="intellect">
				<div class="section-small flex-center">
					<label><button name="roll_int" type="roll" value="&{template:default} {{name=Intellect}} {{Result=[[d20+(@{int_bonus})+(@{intForceMod})]]}}">Intellect</button></label>
					<input name="attr_int" type="number" value="00">
					<span name="attr_int_bonus">00</span>
				</div>
			</div>
			
			<div class="wit">
				<div class="section-small flex-center">
					<label><button name="roll_wit" type="roll" value="&{template:default} {{name=Wit}} {{Result=[[d20+(@{wit_bonus})+(@{witForceMod})]]}}">Wit</button></label>
					<input name="attr_wit" type="number" value="00">
					<span name="attr_wit_bonus">00</span>
				</div>
			</div>
			
			<div class="initiative">
				<div class="section-small flex-center">
					<label><button name="roll_ini" type="roll" value="&{template:default} {{name=Initiative}} {{Result=[[d20+(@{move_bonus})+(@{moveForceMod})+(@{iniForceMod})]]}} &{tacker}">Initiative</button></label>
					<span name="attr_move_bonus">00</span>
				</div>
			</div>
			
			<div class="money">
				<div class="copper">
					<div class="section-small flex-center">
						<label>CP:</label>
						<input type="number" name="attr_copper" style="width:50px" value="0"/>
					</div>
				</div>
				<div class="silver">
					<div class="section-small flex-center">
						<label>SP:</label>
						<input type="number" name="attr_silver" style="width:50px" value="0"/>
					</div>
				</div>
				<div class="gold">
					<div class="section-small flex-center">
						<label>GP:</label>
						<input type="number" name="attr_gold" style="width:50px" value="0"/>
					</div>
				</div>
				<div class="plat">
					<div class="section-small flex-center">
						<label>PP:</label>
						<input type="number" name="attr_plat" style="width:50px" value="0"/>
					</div>
				</div>
			</div>
			
			
			
			
			
			
			
			
			
		</div>
		
		
		
		
		
		
		
		
		
	</div>

	<!------------------>
	<!-- Skills Stats -->
	<!------------------>
	<div class="sheet-skills">
		<div class="skill">
			<div class="melee">
				<div class="skillSlot">
					<div class="skillStatOne">
						<label>Movement <span name="attr_move_bonus">00</span></label>
					</div>
					<div class="section-small flex-center">
						<label><button name="roll_melee" type="roll" value="&{template:default} {{name=Melee}} {{Result=[[d20+(@{melee_bonus})+(@{meleeForceMod})]]}}">Melee</button></label>
						<input name="attr_melee" type="number" value="00">
						<div class="skillMod">
							<input name="attr_melee_bonus" type="number" value="00">
						</div>
					</div>
					<div class="skillStatTwo">
						<label>Strength <span name="attr_str_bonus">00</span></label>
					</div>
				</div>
			</div>
			<div class="ranged">
				<div class="skillSlot">
					<div class="skillStatOne">
						<label>Perception <span name="attr_per_bonus">00</span></label>
					</div>
					<div class="section-small flex-center">
						<label><button name="roll_ranged" type="roll" value="&{template:default} {{name=Ranged}} {{Result=[[d20+(@{ranged_bonus})+(@{rangedForceMod})]]}}">Ranged</button></label>
						<input name="attr_ranged" type="number" value="00">
						<div class="skillMod">
							<input name="attr_ranged_bonus" type="number" value="00">
						</div>
					</div>
					<div class="skillStatTwo">
						<label>Finesse <span name="attr_fin_bonus">00</span></label>
					</div>
				</div>
			</div>
			<div class="stealth">
				<div class="skillSlot">
					<div class="skillStatOne">
						<label>Movement <span name="attr_move_bonus">00</span></label>
					</div>
					<div class="section-small flex-center">
						<label><button name="roll_ste" type="roll" value="&{template:default} {{name=Stealth}} {{Result=[[d20+(@{ste_bonus})+(@{stealthForceMod})]]}}">Stealth</button></label>
						<input name="attr_ste" type="number" value="00">
						<div class="skillMod">
							<input name="attr_ste_bonus" type="number" value="00">
						</div>
					</div>
					<div class="skillStatTwo">
						<label>Finesse <span name="attr_fin_bonus">00</span></label>
					</div>
				</div>
			</div>
			<div class="medicine">
				<div class="skillSlot">
					<div class="skillStatOne">
						<label>Wit <span name="attr_wit_bonus">00</span></label>
					</div>
					<div class="section-small flex-center">
						<label><button name="roll_med" type="roll" value="&{template:default} {{name=Medicine}} {{Result=[[d20+(@{med_bonus})+(@{medicineForceMod})]]}}">Medicine</button></label>
						<input name="attr_med" type="number" value="00">
						<div class="skillMod">
							<input name="attr_med_bonus" type="number" value="00">
						</div>
					</div>
					<div class="skillStatTwo">
						<label>Intellect <span name="attr_int_bonus">00</span></label>
					</div>
				</div>
			</div>
			<div class="alchemy">
				<div class="skillSlot">
					<div class="skillStatOne">
						<label>Finesse <span name="attr_fin_bonus">00</span></label>
					</div>
					<div class="section-small flex-center">
						<label><button name="roll_alc" type="roll" value="&{template:default} {{name=Alchemy}} {{Result=[[d20+(@{alc_bonus})+(@{alchemyForceMod})]]}}">Alchemy</button></label>
						<input name="attr_alc" type="number" value="00">
						<div class="skillMod">
							<input name="attr_alc_bonus" type="number" value="00">
						</div>
					</div>
					<div class="skillStatTwo">
						<label>Intellect <span name="attr_int_bonus">00</span></label>
					</div>
				</div>
			</div>
			<div class="tinkering">
				<div class="skillSlot">
					<div class="skillStatOne">
						<label>Movement <span name="attr_move_bonus">00</span></label>
					</div>
					<div class="section-small flex-center">
						<label><button name="roll_tin" type="roll" value="&{template:default} {{name=Tinkering}} {{Result=[[d20+(@{tin_bonus})+(@{tinForceMod})]]}}">Tinkering</button></label>
						<input name="attr_tin" type="number" value="00">
						<div class="skillMod">
							<input name="attr_tin_bonus" type="number" value="00">
						</div>
					</div>
					<div class="skillStatTwo">
						<label>Intellect <span name="attr_int_bonus">00</span></label>
					</div>
				</div>
			</div>
			<div class="electronics">
				<div class="skillSlot">
					<div class="skillStatOne">
						<label>Perception <span name="attr_per_bonus">00</span></label>
					</div>
					<div class="section-small flex-center">
						<label><button name="roll_ele" type="roll" value="&{template:default} {{name=Electronics}} {{Result=[[d20+(@{ele_bonus})+(@{eleForceMod})]]}}">Electronics</button></label>
						<input name="attr_ele" type="number" value="00">
						<div class="skillMod">
							<input name="attr_ele_bonus" type="number" value="00">
						</div>
					</div>
					<div class="skillStatTwo">
						<label>Intellect <span name="attr_int_bonus">00</span></label>
					</div>
				</div>
			</div>
			<div class="hacking">
				<div class="skillSlot">
					<div class="skillStatOne">
						<label>Finesse <span name="attr_fin_bonus">00</span></label>
					</div>
					<div class="section-small flex-center">
						<label><button name="roll_hack" type="roll" value="&{template:default} {{name=Hacking}} {{Result=[[d20+(@{hack_bonus})+(@{hackForceMod})]]}}">Hacking</button></label>
						<input name="attr_hack" type="number" value="00">
						<div class="skillMod">
							<input name="attr_hack_bonus" type="number" value="00">
						</div>
					</div>
					<div class="skillStatTwo">
						<label>Intellect <span name="attr_int_bonus">00</span></label>
					</div>
				</div>
			</div>
			<div class="metalworking">
				<div class="skillSlot">
					<div class="skillStatOne">
						<label>Strength <span name="attr_str_bonus">00</span></label>
					</div>
					<div class="section-small flex-center">
						<label><button name="roll_met" type="roll" value="&{template:default} {{name=Metalworking}} {{Result=[[d20+(@{met_bonus})+(@{metForceMod})]]}}">Metalworking</button></label>
						<input name="attr_met" type="number" value="00">
						<div class="skillMod">
							<input name="attr_met_bonus" type="number" value="00">
						</div>
					</div>
					<div class="skillStatTwo">
						<label>Intellect <span name="attr_int_bonus">00</span></label>
					</div>
				</div>
			</div>
			<div class="carpentry">
				<div class="skillSlot">
					<div class="skillStatOne">
						<label>Strength <span name="attr_str_bonus">00</span></label>
					</div>
					<div class="section-small flex-center">
						<label><button name="roll_car" type="roll" value="&{template:default} {{name=Carpentry}} {{Result=[[d20+(@{car_bonus})+(@{carForceMod})]]}}">Carpentry</button></label>
						<input name="attr_car" type="number" value="00">
						<div class="skillMod">
							<input name="attr_car_bonus" type="number" value="00">
						</div>
					</div>
					<div class="skillStatTwo">
						<label>Finesse <span name="attr_fin_bonus">00</span></label>
					</div>
				</div>
			</div>
			<div class="leatherworking">
				<div class="skillSlot">
					<div class="skillStatOne">
						<label>Finesse <span name="attr_fin_bonus">00</span></label>
					</div>
					<div class="section-small flex-center">
						<label><button name="roll_lea" type="roll" value="&{template:default} {{name=Leatherworking}} {{Result=[[d20+(@{lea_bonus})+(@{leaForceMod})]]}}">Leatherworking</button></label>
						<input name="attr_lea" type="number" value="00">
						<div class="skillMod">
							<input name="attr_lea_bonus" type="number" value="00">
						</div>
					</div>
					<div class="skillStatTwo">
						<label>Intellect <span name="attr_int_bonus">00</span></label>
					</div>
				</div>
			</div>
			<div class="weaving">
				<div class="skillSlot">
					<div class="skillStatOne">
						<label>Finesse <span name="attr_fin_bonus">00</span></label>
					</div>
					<div class="section-small flex-center">
						<label><button name="roll_wea" type="roll" value="&{template:default} {{name=Weaving}} {{Result=[[d20+(@{wea_bonus})+(@{weaForceMod})]]}}">Weaving</button></label>
						<input name="attr_wea" type="number" value="00">
						<div class="skillMod">
							<input name="attr_wea_bonus" type="number" value="00">
						</div>
					</div>
					<div class="skillStatTwo">
						<label>Wit <span name="attr_wit_bonus">00</span></label>
					</div>
				</div>
			</div>
			<div class="cooking">
				<div class="skillSlot">
					<div class="skillStatOne">
						<label>Intellect <span name="attr_int_bonus">00</span></label>
					</div>
					<div class="section-small flex-center">
						<label><button name="roll_cook" type="roll" value="&{template:default} {{name=Cooking}} {{Result=[[d20+(@{cook_bonus})+(@{cookForceMod})]]}}">Cooking</button></label>
						<input name="attr_cook" type="number" value="00">
						<div class="skillMod">
							<input name="attr_cook_bonus" type="number" value="00">
						</div>
					</div>
					<div class="skillStatTwo">
						<label>Wit <span name="attr_wit_bonus">00</span></label>
					</div>
				</div>
			</div>
			<div class="jewelsmithing">
				<div class="skillSlot">
					<div class="skillStatOne">
						<label>Finesse <span name="attr_fin_bonus">00</span></label>
					</div>
					<div class="section-small flex-center">
						<label><button name="roll_jewel" type="roll" value="&{template:default} {{name=Jewelsmithing}} {{Result=[[d20+(@{jewel_bonus})+(@{jewelForceMod})]]}}">Jewelsmithing</button></label>
						<input name="attr_jewel" type="number" value="00">
						<div class="skillMod">
							<input name="attr_jewel_bonus" type="number" value="00">
						</div>
					</div>
					<div class="skillStatTwo">
						<label>Intellect <span name="attr_int_bonus">00</span></label>
					</div>
				</div>
			</div>
	
	
	
		</div>
	</div>
	<!--------------------->
	<!-- Abilities Stats -->
	<!--------------------->
	<div class="sheet-abi">
        <div class="abiarea">
            <div class ="ability">
                <label>Quirk Abilities</label>
                <fieldset class="repeating_ability">
                    <label>Name:<input type="text" name="attr_abilityname"></label>
                    <textarea name="attr_abilitydis" style="width:795px">details here</textarea>
                </fieldset>
            </div>                  
        </div>
	</div>
	
	
	<!--------------------->
	<!-- Inventory Stats -->
	<!--------------------->
	<div class="sheet-inventory">
		<div class="invarea">
			<div class ="slots">
				<label>Slots</label>
				<fieldset class="repeating_slots">
					<label>Name:<input type="text" name="attr_slotname" value="slot name here" style="width:100px"/></label>
					<label>Amount:<input type="number" name="attr_slotamount" value="0" style="width:50px"/>/<input type="number" name="attr_slotamount_max" value="0" style="width:50px"/></label>
				</fieldset>
			</div>
			<div class ="inv">
				<label>Bag</label>
				<fieldset class="repeating_inv">
					<label>Name:<input type="text" name="attr_invname" style="width:100px"/></label>
					<label>Amount:<input type="number" name="attr_invamount" style="width:50px" value="0"/>Equip:<input type="checkbox" name="attr_hasequip" value="1"/></label>
					<textarea name="attr_invdis" style"width:100"></textarea>
				</fieldset>
			</div>
		</div>
	</div>
	
	
	<!----------------->
	<!-- Notes Stats -->
	<!----------------->
	
	<div class="note">
		<div class= "notearea">
			<div class ="notes">
				<textarea name="attr_playernotes"></textarea>
			</div>
		</div>
	</div>
	
	<!------------------->
	<!-- Setting Stats -->
	<!------------------->
	
	<div class="settings">
		<div class= "settingsarea">
			<div class= "forceMelee">
				<label>test</label>
			</div>
		
		
		
		
		
		
		</div>
	</div>













</div>































<script type="text/worker">
    //Tab Control
    const buttonlist = ["character","note","skills","abi","inventory","settings"];
    buttonlist.forEach(button => {
        on(`clicked:${button}`, function() {
            setAttrs({
                sheetTab: button
            });
        });
    });
	// Mod Control
	const int = score => parseInt(score, 10) || 0;
	const stats = ["str","con","per","move","fin","cont","cha","ter","int","wit"];
	stats.forEach(stat => {
		on(`change:${stat}`, () => {
			getAttrs([stat], values => {
				const stat_base = int(values[stat]);
				console.log(stat_base);
				let stat_bonus = 0;
				stat_bonus = Math.max(-5, Math.floor(stat_base /2) -5);
				setAttrs({
					[`${stat}_bonus`]: stat_bonus
				});
			});
		});
	});
</script>